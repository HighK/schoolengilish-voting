<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" href="result2.css">
    <title>result_1_pre</title>
</head>
<body>
    <div id="count">ㅁㄴㅇ</div>
    <div class="out-wrap">
        <div class="top-wrap">
            <div class="top2-wrap">
                <div id="1" class="top2">
                    <div class="top2-num">
                        <span>#1</span>
                    </div>
                    <div class="top2-inner">
                        <span class="top2-name">김윤재</span><br>
                        <span class="top2-vote">300표</span>
                    </div>
                </div>
                <div id="2" class="top2">
                    <div class="top2-num">
                        <span>#2</span>
                    </div>
                    <div class="top2-inner">
                        <span class="top2-name">임헌우</span><br>
                        <span class="top2-vote">299표</span>
                    </div>
                </div>
            </div>
            <div class="top3-wrap">
                <div id="3" class="top3">
                    <div class="top3-inner">
                        <span>#3</span>
                        <span class="top3-name">박기태</span>
                        <span class="top3-vote">298</span>
                    </div>
                </div>
                <div id="4" class="top3">
                    <div class="top3-inner">
                        <span>#4</span>
                        <span class="top3-name">박기</span>
                        <span class="top3-vote">290</span>
                    </div>
                </div>
                <div id="5" class="top3">
                    <div class="top3-inner">
                        <span>#5</span>
                        <span class="top3-name">박기</span>
                        <span class="top3-vote">290</span>
                    </div>
                </div>
            </div>
        </div>
        <div class="middle-wrap">
            <div class="ranks-text-wrap" style="justify-content: start">
                <div class="ranks-text" style="height: 70px;margin: 20px 20px 0px 20px;padding-top:20px;">6~8등</div>
                <div class="ranks-text" style="height: 70px;margin: 20px 20px 0px 20px;padding-top:20px;">9~11등</div>
                <div class="ranks-text" style="height: 70px;margin: 20px 20px 0px 20px;padding-top:20px;">12~14등</div>
            </div>
            <div class="ranks-wrap" style="justify-content: start">
                <div class="tops-liner">
                    <div id="6" class="tops">
                        <div class="tops-inner">
                            <span>#6</span>
                            <span class="tops-name">asd</span>
                            <span class="tops-vote">200</span>
                        </div>
                    </div>
                    <div id="7" class="tops">
                        <div class="tops-inner">
                            <span>#7</span>
                            <span class="tops-name">asd</span>
                            <span class="tops-vote">200</span>
                        </div>
                    </div>
                    <div id="8" class="tops">
                        <div class="tops-inner">
                            <span>#8</span>
                            <span class="tops-name">asd</span>
                            <span class="tops-vote">200</span>
                        </div>
                    </div>
                </div>
                <div class="tops-liner">
                    <div id="9" class="tops">
                        <div class="tops-inner">
                            <span>#9</span>
                            <span class="tops-name">asd</span>
                            <span class="tops-vote">200</span>
                        </div>
                    </div>
                    <div id="10" class="tops">
                        <div class="tops-inner">
                            <span>#10</span>
                            <span class="tops-name">asd</span>
                            <span class="tops-vote">200</span>
                        </div>
                    </div>
                    <div id="11" class="tops">
                        <div class="tops-inner">
                            <span>#11</span>
                            <span class="tops-name">asd</span>
                            <span class="tops-vote">200</span>
                        </div>
                    </div>
                </div>
                <div class="tops-liner">
                    <div id="12" class="tops">
                        <div class="tops-inner">
                            <span>#12</span>
                            <span class="tops-name">asd</span>
                            <span class="tops-vote">200</span>
                        </div>
                    </div>
                    <div id="13" class="tops">
                        <div class="tops-inner">
                            <span>#13</span>
                            <span class="tops-name">asd</span>
                            <span class="tops-vote">200</span>
                        </div>
                    </div>
                    <div id="14" class="tops">
                        <div class="tops-inner">
                            <span>#14</span>
                            <span class="tops-name">asd</span>
                            <span class="tops-vote">200</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</body>

<script>
    const count = document.getElementById('count');
    fetch('/count_1').then((res) => {
    if (res.status === 200) {
        res.text().then(text => count.innerText = text+"명");
        } else {
        alert(res.statusText);
        }
    }).catch(err => alert(err));

    var xhttp = new XMLHttpRequest();
    xhttp.onreadystatechange = function() {
        if (this.readyState == 4 && this.status == 200) {
            asd(JSON.parse(this.responseText));
       }
    };

    
    xhttp.open("GET", `/get/result1`, true);
    xhttp.send();

    function asd(sex) {
        
        for(let i=0; i<sex.length; i++) {
        if(i<2) {
            console.log(i);
            document.getElementById(i+1).children[1].children[0].innerText = sex[i]['name'];
            document.getElementById(i+1).children[1].children[2].innerText = sex[i]['vote']+"표";
        } else {
            document.getElementById(i+1).children[0].children[1].innerText = sex[i]['name'];
            document.getElementById(i+1).children[0].children[2].innerText = sex[i]['vote']+"표";
        }
    }
        
    }

</script>
</html>